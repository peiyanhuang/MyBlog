---
layout: post
title:  Vue 和 React 的区别及如何选择
date:   2018-11-19 19:58:00 +0800
categories: 开发者
tag: 其它
---

* content
{:toc}

React 和 Vue 都是现流行的框架，他们适用范围无疑是很相似的：同样是基于组件的轻量级框架，同样专注于用户界面的视图层。同样可以用在简单的项目中，也同样可以使用全家桶扩展为复杂的应用程序。仅以我拙见，谈下我的感受。

### 1. Vue 和 React 的异同

#### 1.1 相同点

React 和 Vue 有许多相似之处，它们都有：

* 轻量级
* 都使用 Virtual DOM
* 提供了响应式 (Reactive) 和组件化 (Composable) 的视图组件
* 服务端渲染
* 将注意力集中保持在核心库，而将其他功能如路由和全局状态管理交给相关的库

#### 1.2 不同点

* 组件更新方式不同

在 React 应用中，当某个组件的状态发生变化时，它会以该组件为根，重新渲染整个组件子树。

在 Vue 应用中，组件的依赖是在渲染过程中自动追踪的，所以系统能精确知晓哪个组件确实需要被重渲染。

* `JSX` 和 `Templates`

在 React 中，所有的组件的渲染功能都依靠 JSX。JSX 是使用 XML 语法编写 JavaScript 的一种语法糖。

Vue 也提供了渲染函数，甚至支持 JSX。但是更常用的还是 Template。

* CSS

这里 React 和 Vue 主要的区别是，Vue 设置样式的默认方法是单文件组件里类似 style 的标签。

* 其它

Vue 的路由库和状态管理库都是由官方维护支持且与核心库同步更新的。React 则是选择把这些问题交给社区维护，因此创建了一个更分散的生态系统。但相对的，React 的生态系统相比 Vue 更加繁荣。

React 在 state 中管理存储状态数据，Vue 在 data 中。等等在语法上不同。

### 2. 如何选择

* 如果你喜欢用模板搭建应用（或者有这个想法），请选择 Vue

Vue 应用的默认选项是把 markup 放在HTML文件中。数据绑定表达式采用的是和 Angular 相似的 mustache 语法，而指令（特殊的HTML属性）用来向模板添加功能。相比之下，React 应用不使用模板，它要求开发者借助 JSX 在 JavaScript 中创建 DOM。

* 如果你喜欢简单和“能用就行”的东西，请选择 Vue

Vue 的简单在程序设计的时候体现更深，让我们来比较一下两个框架是怎样处理应用数据的（也就是state）。

React 中的 `state` 是不可变（immutable）的，所以不能直接改变，需要使用API中的 `setState` 方法：

```js
this.setState({
    message:this.state.message.split('').reverse().join('')
});
```

React 中是通过比较当前 `state` 和前一个 `state` 来决定何时在DOM中进行重渲染以及渲染的内容，因此需要不可变（immutable）的 `state`。

Vue 中的数据是可变（mutated）的，所以同样的操作看起来更加简洁。

```js
this.message=this.message.split('').reverse().join('');
```

让我们来看看 Vue 中是如何进行状态管理的。当向 `state` 添加一个新对象的时候，Vue 将遍历其中的所有属性并且转换为 `getter、setter`方法，现在 Vue 的响应系统开始保持对 `state` 的跟踪了，当 `state` 中的内容发生变化的时候就会自动重新渲染 DOM。令人称道的是，Vue 中改变 `state` 的状态的操作不仅更加简洁，而且它的重新渲染系统也比 React 的更快更有效率。Vue 的响应系统还有有些坑的，例如：它不能检测属性的添加和删除和某些数组更改。这时候就要用到 Vue API 中的类似于 React 的 `set` 方法来解决。

* 如果你想要你的应用尽可能的小和快，请选择 Vue
* 如果你打算构建一个大型应用程序，请选择 React
* 如果你想要最大的生态系统，请选择 React
* 如果你已经用其中一个用的很爽，就别变了

总结一下，我们发现的，Vue的优势是：

- 模板和渲染函数的弹性选择
- 简单的语法和项目配置
- 更快的渲染速度和更小的体积

React的优势是：

- 更适合大型应用和更好的可测试性
- JSX 编写，函数式编程
- 更大的生态系统，更多的支持和好用的工具